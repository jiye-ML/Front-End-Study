<https://www.w3school.com.cn/html5/html_5_serversentevents.asp> 

<https://www.hangge.com/blog/cache/detail_1724.html> 





### 服务端

```
# TimeEvents.php
echo "data:服务器当前时间：".$currentTime.PHP_EOL;
```

发送数据





### web端

```监听数据
//点击开始按钮，开始事件监听
function startListening() {
    //创建新的EventSource对象
    source = new EventSource("TimeEvents.php");
    //指定onmessage事件的处理函数
    source.onmessage = receiveMessage;
    messageLog.innerHTML += "开始监听服务端事件...<br>";
}

//页面接收到消息时触发
function receiveMessage(e) {
    //从事件对象的data属性中取得消息，并显示。
    //注意：网页收到的消息不会包含前缀data:和结束的\n\n符号，只有消息内容本身
    messageLog.innerHTML += e.data + "<br>";
}
```

